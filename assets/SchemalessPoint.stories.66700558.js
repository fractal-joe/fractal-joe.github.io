import{r as f}from"./index.3e0bc316.js";import{u as ye,f as ve,F as W,a as ge,I as xe,S as be,b as Te,c as Fe,O as Ce,B as g,d as we,e as Se,E as Ie,g as Pe,C as Re,T as B,D as Me,h as Be,i as ze,j as ke,k as De,l as E}from"./SchemaPoint.c5ef3fdc.js";import{_ as h,j as l,a as m}from"./extends.002c72ab.js";import{g as V,h as J,s as K,i as Q,d as G,_ as X,j as Y,k as Z}from"./GlobalStyles.618ce883.js";import"./iframe.f7925a75.js";import"./inheritsLoose.66087489.js";import"./index.e4e6311a.js";function He(e){return J("MuiFormHelperText",e)}const je=V("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),U=je;var A;const $e=["children","className","component","disabled","error","filled","focused","margin","required","variant"],qe=e=>{const{classes:r,contained:t,size:n,disabled:s,error:u,filled:c,focused:i,required:o}=e,a={root:["root",s&&"disabled",u&&"error",n&&`size${Q(n)}`,t&&"contained",i&&"focused",c&&"filled",o&&"required"]};return Z(a,He,r)},Ee=K("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,t.size&&r[`size${Q(t.size)}`],t.contained&&r.contained,t.filled&&r.filled]}})(({theme:e,ownerState:r})=>h({color:(e.vars||e).palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${U.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${U.error}`]:{color:(e.vars||e).palette.error.main}},r.size==="small"&&{marginTop:4},r.contained&&{marginLeft:14,marginRight:14})),Ue=f.exports.forwardRef(function(r,t){const n=G({props:r,name:"MuiFormHelperText"}),{children:s,className:u,component:c="p"}=n,i=X(n,$e),o=ye(),a=ve({props:n,muiFormControl:o,states:["variant","size","disabled","error","filled","focused","required"]}),d=h({},n,{component:c,contained:a.variant==="filled"||a.variant==="outlined",variant:a.variant,size:a.size,disabled:a.disabled,error:a.error,filled:a.filled,focused:a.focused,required:a.required}),p=qe(d);return l(Ee,h({as:c,ownerState:d,className:Y(p.root,u),ref:t},i,{children:s===" "?A||(A=l("span",{className:"notranslate",children:"\u200B"})):s}))}),Ae=Ue;function Oe(e){return J("MuiTextField",e)}V("MuiTextField",["root"]);const _e=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],Le={standard:Te,filled:Fe,outlined:Ce},Ne=e=>{const{classes:r}=e;return Z({root:["root"]},Oe,r)},We=K(W,{name:"MuiTextField",slot:"Root",overridesResolver:(e,r)=>r.root})({}),Ve=f.exports.forwardRef(function(r,t){const n=G({props:r,name:"MuiTextField"}),{autoComplete:s,autoFocus:u=!1,children:c,className:i,color:o="primary",defaultValue:a,disabled:d=!1,error:p=!1,FormHelperTextProps:w,fullWidth:S=!1,helperText:I,id:ee,InputLabelProps:T,inputProps:te,InputProps:re,inputRef:ne,label:x,maxRows:oe,minRows:se,multiline:k=!1,name:ae,onBlur:ie,onChange:le,onFocus:ce,placeholder:ue,required:D=!1,rows:de,select:P=!1,SelectProps:R,type:pe,value:H,variant:F="outlined"}=n,fe=X(n,_e),j=h({},n,{autoFocus:u,color:o,disabled:d,error:p,fullWidth:S,multiline:k,required:D,select:P,variant:F}),he=Ne(j),b={};F==="outlined"&&(T&&typeof T.shrink<"u"&&(b.notched=T.shrink),b.label=x),P&&((!R||!R.native)&&(b.id=void 0),b["aria-describedby"]=void 0);const y=ge(ee),M=I&&y?`${y}-helper-text`:void 0,$=x&&y?`${y}-label`:void 0,me=Le[F],q=l(me,h({"aria-describedby":M,autoComplete:s,autoFocus:u,defaultValue:a,fullWidth:S,multiline:k,name:ae,rows:de,maxRows:oe,minRows:se,type:pe,value:H,id:y,inputRef:ne,onBlur:ie,onChange:le,onFocus:ce,placeholder:ue,inputProps:te},b,re));return m(We,h({className:Y(he.root,i),disabled:d,error:p,fullWidth:S,ref:t,required:D,color:o,variant:F,ownerState:j},fe,{children:[x!=null&&x!==""&&l(xe,h({htmlFor:y,id:$},T,{children:x})),P?l(be,h({"aria-describedby":M,id:y,labelId:$,value:H,input:q},R,{children:c})):q,I&&l(Ae,h({id:M},w,{children:I}))]}))}),O=Ve;var C=Symbol("@ts-pattern/matcher"),_="@ts-pattern/anonymous-select-key",L=function(e){return Boolean(e&&typeof e=="object")},z=function(e){return e&&!!e[C]},Je=function e(r,t,n){if(L(r)){if(z(r)){var s=r[C]().match(t),u=s.matched,c=s.selections;return u&&c&&Object.keys(c).forEach(function(o){return n(o,c[o])}),u}if(!L(t))return!1;if(Array.isArray(r))return!!Array.isArray(t)&&r.length===t.length&&r.every(function(o,a){return e(o,t[a],n)});if(r instanceof Map)return t instanceof Map&&Array.from(r.keys()).every(function(o){return e(r.get(o),t.get(o),n)});if(r instanceof Set){if(!(t instanceof Set))return!1;if(r.size===0)return t.size===0;if(r.size===1){var i=Array.from(r.values())[0];return z(i)?Array.from(t.values()).every(function(o){return e(i,o,n)}):t.has(i)}return Array.from(r.values()).every(function(o){return t.has(o)})}return Object.keys(r).every(function(o){var a,d=r[o];return(o in t||z(a=d)&&a[C]().matcherType==="optional")&&e(d,t[o],n)})}return Object.is(t,r)};function v(e){var r;return(r={})[C]=function(){return{match:function(t){return{matched:Boolean(e(t))}}}},r}v(function(e){return!0});v(function(e){return typeof e=="string"});v(function(e){return typeof e=="number"});v(function(e){return typeof e=="boolean"});v(function(e){return typeof e=="bigint"});v(function(e){return typeof e=="symbol"});v(function(e){return e==null});function Ke(e){return new Qe(e,[])}var Qe=function(){function e(t,n){this.value=void 0,this.cases=void 0,this.value=t,this.cases=n}var r=e.prototype;return r.with=function(){var t=[].slice.call(arguments),n=t[t.length-1],s=[t[0]],u=[];return t.length===3&&typeof t[1]=="function"?(s.push(t[0]),u.push(t[1])):t.length>2&&s.push.apply(s,t.slice(1,t.length-1)),new e(this.value,this.cases.concat([{match:function(c){var i={},o=Boolean(s.some(function(a){return Je(a,c,function(d,p){i[d]=p})})&&u.every(function(a){return a(c)}));return{matched:o,value:o&&Object.keys(i).length?_ in i?i[_]:i:c}},handler:n}]))},r.when=function(t,n){return new e(this.value,this.cases.concat([{match:function(s){return{matched:Boolean(t(s)),value:s}},handler:n}]))},r.otherwise=function(t){return new e(this.value,this.cases.concat([{match:function(n){return{matched:!0,value:n}},handler:t}])).run()},r.exhaustive=function(){return this.run()},r.run=function(){for(var t=this.value,n=void 0,s=0;s<this.cases.length;s++){var u=this.cases[s],c=u.match(this.value);if(c.matched){t=c.value,n=u.handler;break}}if(!n){var i;try{i=JSON.stringify(this.value)}catch{i=this.value}throw new Error("Pattern matching error: no pattern matches value "+i)}return n(t,this.value)},e}();const Ge=["Indicator","Float","PointEnum","Widget"];function N({topic:e,displayType:r,float:t,unit:n}){const s=Pe();return m(Re,{style:{width:300,display:"flex",padding:15,alignItems:"center",justifyContent:"space-between"},children:[l(B,{style:{fontFamily:"monospace"},children:e}),m(g,{style:{display:"flex"},children:[Ke(r).with("Float",()=>l(B,{variant:"body1",children:t})).with("Indicator",()=>l(g,{style:{background:Math.random()>.5?s.palette.success.main:s.palette.error.main,height:16,width:16,borderRadius:"50%"}})).otherwise(()=>`Type ${r} not supported`),l(B,{ml:1,children:n})]})]})}function Xe(e){const[r,t]=f.exports.useState(""),[n,s]=f.exports.useState(""),[u,c]=f.exports.useState(""),i=()=>{e.setDialog(!1)},o=()=>{e.setTopic(r),e.setUnit(n),u&&e.setDisplayType(u),e.setDialog(!1)},a=p=>{t(p.target.value)},d=p=>{s(p.target.value)};return m(Me,{onClose:i,open:e.dialog,fullWidth:!0,children:[l(Be,{children:"Configure Point"}),m(ze,{style:{padding:30},children:[l(g,{mb:2,children:l(O,{value:r,onChange:a,autoFocus:!0,margin:"dense",label:"MQTT Topic",fullWidth:!0})}),l(W,{style:{display:"flex"},required:!0,children:m(g,{style:{display:"flex",alignItems:"center"},children:[l(g,{mr:2,style:{width:200},children:l(ke,{setValue:c,options:Ge,label:"Display Types"})}),l(O,{value:n,onChange:d,label:"Unit"})]})})]}),m(De,{children:[l(E,{onClick:i,children:"Cancel"}),l(E,{onClick:o,children:"Save"})]})]})}function Ye(){const[e,r]=f.exports.useState("met/1/temperature"),[t,n]=f.exports.useState("\xB0C"),[s,u]=f.exports.useState("Float"),[c,i]=f.exports.useState(!1),[o,a]=f.exports.useState(!1),[d,p]=f.exports.useState("0.00");return f.exports.useEffect(()=>{const w=setInterval(()=>{p((Math.random()*101).toFixed(2))},1e3);return()=>clearInterval(w)},[]),m(g,{onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:[c?l(we,{badgeContent:l(Se,{onClick:()=>a(!0),children:l(Ie,{style:{color:"white"},fontSize:"small"})}),color:"primary",children:l(N,{unit:t,float:d,topic:e,displayType:s})}):l(N,{unit:t,float:d,topic:e,displayType:s}),l(Xe,{setDisplayType:u,setTopic:r,dialog:o,setUnit:n,setDialog:a})]})}const at={title:"Example/TopicBasedPoint",component:Ye,tags:["docsPage"],argTypes:{}},it={args:{}},lt=["Main"];export{it as Main,lt as __namedExportsOrder,at as default};
//# sourceMappingURL=SchemalessPoint.stories.66700558.js.map
